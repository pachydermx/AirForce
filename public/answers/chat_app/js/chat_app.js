$(document).ready(function(){function n(){null===t.socket?($("#connect_button").prop("disabled",!1),$("#name").prop("disabled",!1),$("#disconnect_button").prop("disabled",!0),$("#send_button").prop("disabled",!0),$("#clear_button").prop("disabled",!0),$("#canvas").css("border-style","dotted")):($("#connect_button").prop("disabled",!0),$("#name").prop("disabled",!0),$("#disconnect_button").prop("disabled",!1),$("#send_button").prop("disabled",!1),$("#clear_button").prop("disabled",!1),$("#canvas").css("border-style","solid"))}function e(){t.sendJsonMsg({type:"message",text:$("#message").val()})}var t,o="ws://"+document.location.host,s=document.getElementById("console"),c=document.getElementById("canvas");t=new DrawingChat(o,c,s,n),$("#connect_button").on("click",function(){t.connect($("#name").val())}),$("#disconnect_button").on("click",function(){t.disconnect()}),$("#clear_button").on("click",function(){t.sendJsonMsg({type:"clearAll"})}),$("#name").attr("value",function(){var n=new Date;return"user"+n.getTime()%1e4}()),$("#send_button").on("click",function(){e()}),$("#message").on("keypress",function(n){13==n.keyCode&&e()}),t.handleJsonMsg=function(n){var e=n.type;if("message"===e){var o=n.from+" > "+n.text;t.outputToConsole(o)}else"clearAll"===e?(t.draw.clear(),$(s).empty()):DrawingChat.prototype.handleJsonMsg.call(t,n)},n()});
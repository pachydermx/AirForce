function DrawPen(t){this.canvas=t,this.canvas.addEventListener("mousedown",this.mousedown.bind(this),!1),this.mousemove=this.mousemove.bind(this),this.mouseup=this.mouseup.bind(this)}DrawPen.prototype.penSize=5,DrawPen.prototype.strokeStyle="rgba(0, 0, 0, 0.3)",DrawPen.prototype.lastPos={x:0,y:0},DrawPen.prototype.clear=function(){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height)},DrawPen.prototype.transCoord=function(t){var e=this.canvas.getBoundingClientRect(),o=Math.round(e.left)+this.canvas.clientLeft,n=Math.round(e.top)+this.canvas.clientTop,s=t.clientX-o,i=t.clientY-n;return{x:s,y:i}},DrawPen.prototype.drawPenFromTo=function(t,e,o,n){var s=this.canvas.getContext("2d");s.lineCap="butt",s.lineJoin="bevel",s.lineWidth=this.penSize,s.beginPath(),s.moveTo(t,e),s.lineTo(o,n),s.strokeStyle=this.strokeStyle,s.stroke()},DrawPen.prototype.mousedown=function(t){this.lastPos=this.transCoord(t),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),t.preventDefault()},DrawPen.prototype.mousemove=function(t){var e=this.transCoord(t);this.drawPenFromTo(this.lastPos.x,this.lastPos.y,e.x,e.y),this.lastPos=e},DrawPen.prototype.mouseup=function(){document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1)};